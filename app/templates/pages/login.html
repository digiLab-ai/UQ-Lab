{% extends "base.html" %} {% block content %}

<div class="rounded-3 bg-light" style="max-width: 400px">
    <div class="container-fluid py-5">
        <h1 class="display-5 fw-bold" style="text-align: center">digiLab</h1>
        <hr />
        <div class="input-group mb-3">
            <input
                id="username"
                type="text"
                class="input_parameter_name form-control"
                placeholder="username"
            />
            <input
                id="password"
                type="password"
                class="input_parameter_name form-control"
                placeholder="password"
            />
        </div>
        <button class="btn btn-primary" onclick="attempt_login()">Login</button>
        <div class="mt-3">{% include "components/message_box.html" %}</div>
    </div>
</div>

<script>
    const attempt_login = () => {
        const username = $("#username").val();
        const password = $("#password").val();
        Client.validate_credentials(username, password, (response) => {
            if (response) {
                sessionStorage.setItem("digilab_uq_username", username);
                Client.go_to_overview(username);
            }
            show_error_message("Invalid username or password");
        });
    };
</script>

{% endblock %}
